<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üìö Study Timer</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; background: #f5f5f5; }
    button, input { margin: 5px; padding: 10px 20px; font-size: 1rem; }
    #time { font-size: 3rem; margin: 20px 0; }
  </style>
</head>
<body>
  <h1>Study Timer ‚è±Ô∏è</h1>

  <div>
    <button onclick="startTimer(30)">30 Minutes</button>
    <button onclick="startTimer(60)">1 Hour</button>
    <button onclick="startTimer(120)">2 Hours</button>
  </div>

  <div>
    <input type="number" id="custom" placeholder="Minutes" />
    <button onclick="startCustom()">Start Custom</button>
  </div>

  <div id="time">00:00:00</div>
  <button onclick="togglePause()" id="pauseBtn" disabled>Pause</button>

  <script>
    let duration = 0;
    let endTime = null;
    let interval = null;
    let paused = false;
    let remaining = 0;
    let lastMotivationTime = 0;
    const motivationInterval = 2 * 60 * 1000; // every 15 mins

    const messages = [
      "üí° Keep going, you're doing great!",
      "üöÄ Stay focused, your goals are in reach.",
      "üå± Progress, not perfection.",
      "üéØ Just show up and do the work.",
      "üî• Every minute counts!"
    ];

    function formatTime(ms) {
      const totalSec = Math.floor(ms / 1000);
      const hrs = Math.floor(totalSec / 3600);
      const mins = Math.floor((totalSec % 3600) / 60);
      const secs = totalSec % 60;
      return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    function startTimer(mins) {
      duration = mins * 60 * 1000;
      endTime = Date.now() + duration;
      paused = false;
      lastMotivationTime = Date.now();
      document.getElementById("pauseBtn").disabled = false;
      interval = setInterval(updateTimer, 1000);
    }

    function startCustom() {
      const mins = parseInt(document.getElementById("custom").value);
      if (!isNaN(mins) && mins > 0) {
        startTimer(mins);
      }
    }

    function togglePause() {
      paused = !paused;
      document.getElementById("pauseBtn").innerText = paused ? "Resume" : "Pause";
      if (paused) {
        clearInterval(interval);
        remaining = endTime - Date.now();
      } else {
        endTime = Date.now() + remaining;
        lastMotivationTime = Date.now() - (motivationInterval - (remaining % motivationInterval));
        interval = setInterval(updateTimer, 1000);
      }
    }

    function updateTimer() {
      if (paused) return;

      const now = Date.now();
      const diff = endTime - now;
      document.getElementById("time").innerText = formatTime(diff);

      if (now - lastMotivationTime >= motivationInterval && diff > 0) {
        lastMotivationTime = now;
        showMotivation();
      }

      if (diff <= 0) {
        clearInterval(interval);
        document.getElementById("time").innerText = "00:00:00";
        document.getElementById("pauseBtn").disabled = true;
        alert("üéâ Great job! You‚Äôve completed your session!");
      }
    }

    function showMotivation() {
      const msg = messages[Math.floor(Math.random() * messages.length)];
      alert(msg);
    }
  </script>
</body>
</html>
